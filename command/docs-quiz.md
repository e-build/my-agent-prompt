---
description: Generate quizzes from existing documentation to test understanding
tools:
  read: true
  write: true
  glob: true
  grep: true
  question: true
---

# 문서 기반 퀴즈 생성

**대상**: $ARGUMENTS

---

## 개요

`docs/` 내 작성된 문서(learning/, design/)를 소스로 활용하여 퀴즈를 생성합니다.
사용자의 이해도를 점검하고, 채점 및 해설을 제공합니다.

---

## 실행 절차

### Phase 1: 소스 문서 수집

1. **대상 결정**
   - `$ARGUMENTS`가 있으면 해당 경로의 문서 수집
   - 없으면 사용자에게 경로를 입력 요청하고 종료

2. **문서 수집**
   - 대상 경로 내 모든 `.md` 파일 읽기
   - index.md는 구조 파악용으로만 사용 (퀴즈 소스 제외)
   - learning/ 문서: 개념, 이론, 비교 분석 중심 출제
   - design/ 문서: 설계 결정, 구조, 흐름 중심 출제

3. **소스 검증**
   - 최소 1개 이상의 실질적 문서 필요
   - 문서가 없거나 내용이 부족하면 안내 후 종료:
     ```
     ⚠️ 퀴즈를 생성할 문서가 부족합니다.
     
     대상: {path}
     발견된 문서: {count}개
     
     먼저 /docs-execute로 문서를 작성해주세요.
     ```

4. **소스 요약 표시**
   ```
   📚 퀴즈 소스 문서
   
   대상: {path}
   문서 수: {count}개
   
   learning/ ({count}개):
   - {filename}: {H1 제목}
   - ...
   
   design/ ({count}개):
   - {filename}: {H1 제목}
   - ...
   ```

---

### Phase 2: 사용자 설정 입력

**반드시 `question` 도구를 1회 호출하여** 3가지 설정을 한 번에 확인합니다. 텍스트로 선택지를 나열하지 마세요.

`question` 도구는 `questions` 배열에 여러 질문을 담아 **한 번의 호출로** 모두 표시할 수 있습니다. 3개 질문을 반드시 하나의 호출에 묶으세요.

Use question (3개 질문을 하나의 호출로):

질문 1:
- header: "난이도"
- question: "퀴즈 난이도를 선택해주세요."
- options:
  - "초급" — 핵심 개념과 용어 위주. 문서를 한 번 읽었으면 풀 수 있는 수준.
  - "중급" — 개념 간 관계, 비교, 응용. 문서 내용을 이해하고 있어야 풀 수 있는 수준.
  - "고급" — 심층 분석, 트레이드오프, 실무 적용. 문서 너머의 사고력이 필요한 수준.

질문 2:
- header: "문제 깊이"
- question: "문제의 깊이를 선택해주세요."
- options:
  - "표면적" — 명시적으로 문서에 나온 사실 확인 위주
  - "통합적" — 여러 문서 내용을 연결하여 종합적으로 이해해야 풀 수 있는 문제
  - "비판적" — 설계 결정의 타당성, 대안 분석, 실무 시나리오 판단이 필요한 문제

질문 3:
- header: "문제 개수"
- question: "문제 개수를 선택해주세요."
- options:
  - "10문제" — 핵심만 빠르게
  - "15문제" — 주요 내용 커버
  - "20문제" — 충분한 범위
  - "30문제" — 전체 내용 포괄

---

### Phase 3: 퀴즈 생성

#### 3-1. 문제 유형 배분

3가지 유형을 적절히 배분합니다:

| 유형 | 설명 | 비율 |
|------|------|------|
| 객관식 | 4지선다, 정답 1개. 오답은 그럴듯하게 구성. | 약 40% |
| 주관식 | 단답형 (1~3단어 또는 1문장). 정확한 용어/개념 확인. | 약 30% |
| 서술형 | 2~5문장으로 설명. 이해도와 논리적 사고력 확인. | 약 30% |

**난이도별 조정**:
- 초급: 객관식 50%, 주관식 30%, 서술형 20%
- 중급: 객관식 40%, 주관식 30%, 서술형 30%
- 고급: 객관식 30%, 주관식 25%, 서술형 45%

#### 3-2. 문제 생성 원칙

1. **소스 기반**: 모든 문제는 수집된 문서 내용에서 출제
2. **출처 추적**: 각 문제마다 어느 문서의 어느 섹션에서 출제했는지 내부적으로 기록
3. **난이도 순 배치**: 쉬운 문제부터 어려운 문제 순으로 배치
4. **유형 혼합**: 같은 유형이 연속 3문제 이상 나오지 않도록 배치
5. **범위 분산**: 특정 문서에 편중되지 않도록 고르게 출제

#### 3-3. 객관식 문제 작성 규칙

- 보기는 4개 (①②③④)
- 정답은 1개
- 오답은 그럴듯하지만 명확히 틀린 내용
- "모두 맞다", "없다" 같은 보기 지양
- 문서에 근거 없는 보기 사용 금지

#### 3-4. 주관식 문제 작성 규칙

- 답이 명확하게 하나로 수렴해야 함
- 문서에 명시된 용어, 개념, 수치 등을 물어봄
- 답의 범위가 모호한 문제 지양
- 예상 정답을 미리 정의

#### 3-5. 서술형 문제 작성 규칙

- 채점 기준(핵심 포인트)을 미리 정의 (3~5개)
- "설명하세요", "비교하세요", "이유를 서술하세요" 형태
- 단순 나열이 아닌 논리적 서술 유도
- 각 핵심 포인트에 배점 부여

---

### Phase 4: 퀴즈 출제 (대화형)

**반드시 `question` 도구를 사용하여** 문제를 출제합니다. 텍스트로 문제를 나열하지 마세요.

#### 4-1. 문제 출제 형식 (유형별)

**중요**: `question` 도구의 모든 option에는 `label`과 `description`이 **반드시 필요**합니다. description을 빈 문자열("")로 두지 마세요.

**객관식** — options로 4지선다 보기 제공:

Use question:
- header: "Q{번호} [객관식]"
- question: "{문제 내용}"
- options:
  - "①" — {보기1 내용을 description에 작성}
  - "②" — {보기2 내용을 description에 작성}
  - "③" — {보기3 내용을 description에 작성}
  - "④" — {보기4 내용을 description에 작성}

예시:
Use question:
- header: "Q1 [객관식]"
- question: "ReAct 패턴에서 에이전트가 도구 호출 후 수행하는 단계는?"
- options:
  - "①" — 다음 도구를 즉시 호출한다
  - "②" — 도구 결과를 관찰(Observe)하고 다음 행동을 판단한다
  - "③" — 사용자에게 결과를 먼저 보여준다
  - "④" — 모든 도구를 병렬로 실행한다

**주관식** — 답변 힌트를 options로 제공하되, 사용자는 custom 입력(자동 활성화)으로 직접 작성:

Use question:
- header: "Q{번호} [주관식]"
- question: "{문제 내용}\n\n직접 입력해주세요."
- options:
  - "힌트 보기" — {관련 키워드나 범위를 description에 작성}

**서술형** — 주관식과 동일하게 처리:

Use question:
- header: "Q{번호} [서술형]"
- question: "{문제 내용}\n\n2~5문장으로 서술해주세요."
- options:
  - "힌트 보기" — {채점 기준이 되는 핵심 키워드 힌트를 description에 작성}

#### 4-2. 진행 방식

- **한 문제씩** `question` 도구로 출제
- 각 문제 출제 전 진행 상황 표시: `📝 Q{번호}/{전체}`
- 사용자가 `question` 도구로 답변하면 즉시 다음 문제 출제
- 모든 답변은 내부적으로 기록하여 Phase 5 채점에 사용

#### 4-3. 중간 포기 처리

사용자가 도중에 "그만", "중단", "stop" 등을 입력하면 반드시 `question` 도구로 확인:

Use question:
- header: "퀴즈 중단"
- question: "퀴즈를 중단하시겠습니까?"
- options:
  - "여기까지 채점" — 답변한 문제까지만 채점하고 결과 생성
  - "계속 풀기" — 이어서 진행
  - "완전 중단" — 결과 없이 종료

---

### Phase 5: 채점

#### 5-1. 채점 기준

**객관식**: 정답 일치 여부 (정답/오답)

**주관식**: 
- 완전 정답: 핵심 키워드/용어 정확히 일치
- 부분 정답: 의미는 맞으나 용어가 부정확하거나 불완전
- 오답: 틀리거나 관련 없는 답변

**서술형**:
- 미리 정의한 핵심 포인트(3~5개) 기준으로 채점
- 각 포인트 충족 여부 개별 평가
- 논리적 흐름, 정확성 추가 평가

#### 5-2. 점수 산정

| 유형 | 배점 | 채점 방식 |
|------|------|-----------|
| 객관식 | 문제당 2점 | 정답 2점, 오답 0점 |
| 주관식 | 문제당 3점 | 완전 정답 3점, 부분 정답 1점, 오답 0점 |
| 서술형 | 문제당 5점 | 핵심 포인트별 1점 + 논리 흐름 추가점 |

---

### Phase 6: 결과 파일 생성

채점 완료 후 결과를 md 파일로 생성합니다.

#### 6-1. 파일 경로

- 대상이 특정 feature: `docs/{feature}/quiz-result-{YYYY-MM-DD}.md`
- 대상이 전체 docs/: `docs/quiz-result-{YYYY-MM-DD}.md`
- 같은 날 중복 시: `quiz-result-{YYYY-MM-DD}-{N}.md` (N=2,3,...)

#### 6-2. 파일 형식

```markdown
# 퀴즈 결과

## 목차

- [개요](#개요)
- [결과 요약](#결과-요약)
- [문제별 상세](#문제별-상세)
- [취약 영역 분석](#취약-영역-분석)
- [학습 제안](#학습-제안)

---

## 개요

| 항목 | 내용 |
|------|------|
| 날짜 | {YYYY-MM-DD HH:mm} |
| 대상 문서 | {대상 경로} |
| 난이도 | {초급/중급/고급} |
| 문제 깊이 | {표면적/통합적/비판적} |
| 문제 수 | {N}문제 |
| 소스 문서 수 | {N}개 |

---

## 결과 요약

### 총점

**{획득점수} / {만점} ({백분율}%)**

### 유형별 성적

| 유형 | 문제 수 | 정답 | 부분 정답 | 오답 | 점수 | 비율 |
|------|---------|------|-----------|------|------|------|
| 객관식 | {N} | {N} | — | {N} | {점수}/{만점} | {%} |
| 주관식 | {N} | {N} | {N} | {N} | {점수}/{만점} | {%} |
| 서술형 | {N} | — | — | — | {점수}/{만점} | {%} |

### 등급

| 등급 | 기준 |
|------|------|
| ⭐ S | 95% 이상 |
| 🅰️ A | 85~94% |
| 🅱️ B | 70~84% |
| 🅲 C | 55~69% |
| 🅳 D | 40~54% |
| 🅵 F | 39% 이하 |

**당신의 등급: {등급}**

---

## 문제별 상세

### Q1. [객관식] ⭕ 정답

**문제**: {문제 내용}

| 보기 | 내용 |
|------|------|
| ① | {보기1} |
| **② ✅** | **{보기2 — 정답}** |
| ③ | {보기3} |
| ④ | {보기4} |

**당신의 답**: ②
**정답**: ②

**해설**:
{왜 이것이 정답인지 설명. 오답 보기가 틀린 이유도 간략히.}

> 📖 **출처**: [{문서 제목}]({상대 경로}##{섹션 앵커})

---

### Q2. [주관식] ❌ 오답

**문제**: {문제 내용}

**당신의 답**: {사용자 답변}
**정답**: {정답}

**해설**:
{정답 설명. 사용자 답변이 왜 틀렸는지, 정답과의 차이점.}

> 📖 **출처**: [{문서 제목}]({상대 경로}##{섹션 앵커})

---

### Q3. [서술형] 🔺 부분 정답 (3/5점)

**문제**: {문제 내용}

**당신의 답**:
> {사용자 답변 원문}

**채점 기준**:

| # | 핵심 포인트 | 충족 | 비고 |
|---|------------|:----:|------|
| 1 | {포인트1} | ✅ | {평가} |
| 2 | {포인트2} | ✅ | {평가} |
| 3 | {포인트3} | ❌ | {평가} |
| 4 | {포인트4} | ❌ | {평가} |
| 5 | 논리적 흐름 | ✅ | {평가} |

**모범 답안**:
{이상적인 답변 예시}

**해설**:
{부족한 포인트 중심으로 보충 설명.}

> 📖 **출처**: [{문서 제목}]({상대 경로}##{섹션 앵커})

---

{... 나머지 문제들 ...}

---

## 취약 영역 분석

### 문서별 정답률

| 소스 문서 | 출제 수 | 정답 | 정답률 | 상태 |
|-----------|---------|------|--------|------|
| [{문서명}]({경로}) | {N} | {N} | {%} | ✅ 양호 / ⚠️ 보통 / ❌ 취약 |
| ... | | | | |

### 취약 영역 Top 3

1. **{영역/문서명}** — 정답률 {%}
   - 관련 문제: Q{번호}, Q{번호}
   - 핵심 부족 개념: {개념}
   
2. **{영역/문서명}** — 정답률 {%}
   - 관련 문제: Q{번호}
   - 핵심 부족 개념: {개념}

3. **{영역/문서명}** — 정답률 {%}
   - 관련 문제: Q{번호}
   - 핵심 부족 개념: {개념}

---

## 학습 제안

취약 영역을 기반으로 한 학습 가이드:

1. **우선 복습**: [{문서명}]({경로}) — {구체적 섹션}을 다시 읽어보세요.
2. **심화 학습**: [{문서명}]({경로}) — {개념}에 대한 이해를 보강하세요.
3. **재시도 권장**: 동일 범위로 `/docs-quiz {경로}`를 다시 실행해보세요.
```

#### 6-3. 결과 출력

파일 생성 후 요약을 출력합니다:

```
✅ 퀴즈 완료!

📊 결과: {획득점수}/{만점} ({백분율}%) — 등급 {등급}

유형별:
  객관식: {정답수}/{문제수}
  주관식: {정답수}/{문제수}
  서술형: {평균점}/{만점}

취약 영역: {취약 영역 1~2개}

📄 상세 결과: {결과 파일 경로}
```

---

## 주의사항

1. **문서 기반 출제**: 문서에 없는 내용으로 문제를 만들지 않음
2. **출처 필수**: 모든 문제와 해설에 소스 문서 링크 포함
3. **공정한 채점**: 서술형은 핵심 포인트 기반으로 객관적 채점
4. **긍정적 피드백**: 취약 영역뿐 아니라 잘한 부분도 언급
5. **재시도 유도**: 결과에 따라 재시도를 자연스럽게 유도
